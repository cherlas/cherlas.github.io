
<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="baidu-site-verification" content="fJhstNzkJ1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="小一 | 莫舍己道 勿扰他心">
    <title>Android 自动化测试之 — Espresso - 小一 | 莫舍己道 勿扰他心</title>
    <meta name="author" content="小一">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0" />
    <link rel="Shortcut Icon" href="http://www.istarx.cn/assets/images/favicon.ico" type="image/x-icon">
    
        <meta name="keywords" content="自动化测试,android Test,espresso">
    
    
        <link rel="icon" href="http://www.istarx.cn/assets/images/favicon.ico">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    
    
    
        
    
    
        <meta property="og:image" content="http://www.istarx.cn/assets/images/avatar.png"/>
    
    
    
        <meta property="og:image" content="http://cherlas-blog.oss-cn-beijing.aliyuncs.com/espresso.jpg"/>
        <meta class="swiftype" name="image" data-type="enum"
              content="http://cherlas-blog.oss-cn-beijing.aliyuncs.com/espresso.jpg"/>
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-nquzy2nicpec0tkfrvwuyo3aijjvo4igqdkvgzeqswz9wqwkivchz2f9ma1k.min.css">
    <!--STYLES END-->
    

    

</head>

<body>
<div id="container">
    <canvas id="anm-canvas" data-behavior="2" class="anm-canvas hidden"></canvas>
    <div id="blog">
        <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2" class="fade-in">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">小一 | 莫舍己道 勿扰他心</a>
    </div>
    <i class="btn-open-search fa fa-lg fa-search"></i>
    
        
        <a class="header-right-picture  " href=" #about ">
            
        
            <img class="header-picture" src="/assets/images/avatar.png" alt="作者的图片">
        
        </a>
    
</header>

        <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2" class="hidden fade-in">
    <div class="sidebar-top-whitespace"></div>
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <!-- 头像效果-start -->
                <div class="ih-item circle effect right_to_left">
                    <a href="/ ">
                        <img class="sidebar-profile-picture" src="/assets/images/avatar.png" alt="作者的图片">
                        <div class="info">
                            <div class="info-back">
                                <h2>
                                    
                                    Android
                                    
                                </h2>
                                <p>
                                    
                                    Python
                                    
                                </p>
                            </div>
                        </div>
                    </a>
                </div>
                <!-- 头像效果-end -->
                <h4 class="sidebar-profile-name">小一</h4>
                
                    <h5 class="sidebar-profile-bio"><p>莫舍己道,勿扰他心.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/#blog">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-home" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">首页</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-bookmark" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">分类</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-tags" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">标签</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-archive" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">归档</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                    <a class="sidebar-button-link open-search-col" rel="noopener">
                    
                            <i class="sidebar-button-icon fa fa-lg fa-search" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">搜索</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-question" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">关于</span>
                        </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/cherlas" target="_blank" rel="noopener">
                    
                            <i class="sidebar-button-icon fa fa-lg fa-github" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">GitHub</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="mailto:vm@li.cm" target="_blank" rel="noopener">
                    
                            <i class="sidebar-button-icon fa fa-lg fa-envelope-o" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">邮箱</span>
                        </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-rss" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">RSS</span>
                        </a>
            </li>
            
        </ul>
        
    </div>
    <div class="sidebar-bottom-whitespace"></div>
</nav>

        
<div class="post-header-cover fade-in header-image-cover
                    text-left
                    post-header-cover--partial" style="background-image:url('http://cherlas-blog.oss-cn-beijing.aliyuncs.com/espresso.jpg');
      filter: blur(0px); 
      height: 60%;" data-behavior="2">
</div>
<div class="post-header-cover fade-in post-header-cover-background
                            text-left
                            post-header-cover--partial" style="
     
             height: 60%;
     " data-behavior="2">

    
    <div class="post-header main-content-wrap text-left fadeInDown">
    <div class="post-header-message content-with-table">
        
        <h1 class="post-title" itemprop="headline">
            Android 自动化测试之 — Espresso
        </h1>
        
        
        <div class="post-meta">
    <time itemprop="datePublished" datetime="2018-04-09T22:43:27+08:00">
        <img class="calendar" src="/assets/images/calendar.png">
        
        4月 09, 2018
        
    </time>
    
    <span>发布在 </span>
    
<a class="category-link" href="/categories/程序猿进化之路/">程序猿进化之路</a>, <a class="category-link" href="/categories/程序猿进化之路/自动化测试/">自动化测试</a>


    
    
    <img class="tag-img" src="/assets/images/tag-icon.svg">
    <div class="post-tags">
        
        <a href="/tags/自动化测试/">自动化测试</a>
        
        <a href="/tags/espresso/">espresso</a>
        
    </div>
    
</div>

        
    </div>
</div>

    
</div>


        <div id="main" data-behavior="2"
             class="hasCover
                        hasCoverMetaIn
                        hasCoverCaption hidden fade-in">
            
<article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    
        <span class="post-header-cover-caption caption">If one&#39;s different, one&#39;s bound to be lonely.</span>
    
    
    <div class="tableTile" data-message="目录">
    </div>
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap fadeInDown toc content-with-table">
            <script src="/assets/js/APlayer.min.js"> </script><p>Espresso 是基于 ATSL(Android Testing Support Library) 的Android 设备化测试框架，它只能在单独apk内部进行测试而不能和其它应用进行交互，它可以检查应用的 UI 组件是否正确工作。</p>
<a id="more"></a>
<p><ul class="toc js-fixedContent">
<li><a href="#espresso-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">Espresso 环境搭建</a></li>
<li><a href="#espresso-%E5%9F%BA%E6%9C%AC%E7%BB%84%E4%BB%B6%E5%8F%8A%E4%BD%BF%E7%94%A8">Espresso 基本组件及使用</a>
<ul>
<li><a href="#%E5%9F%BA%E6%9C%AC%E7%BB%84%E4%BB%B6">基本组件</a>
<ul>
<li><a href="#viewinteraction">ViewInteraction</a></li>
<li><a href="#%E4%B8%A4%E4%B8%AA%E5%B8%B8%E8%A7%81%E7%9A%84%E5%BC%82%E5%B8%B8">两个常见的异常</a></li>
</ul>
</li>
<li><a href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95">使用方法</a>
<ul>
<li><a href="#%E6%9F%A5%E6%89%BE%E6%8E%A7%E4%BB%B6">查找控件</a></li>
<li><a href="#%E6%89%A7%E8%A1%8C%E6%93%8D%E4%BD%9C">执行操作</a></li>
<li><a href="#%E8%BF%9B%E8%A1%8C%E9%AA%8C%E8%AF%81">进行验证</a></li>
<li><a href="#%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%A0%97%E5%AD%90">一个简单的栗子</a></li>
</ul>
</li>
<li><a href="#espresso-intents">Espresso-Intents</a></li>
</ul>
</li>
</ul>
</p>
<p>前面有文章介绍了 <a href="http://www.istarx.cc/2018/04/07/android-test-uiautomator/">UI Automator 测试框架</a>，该框架在多个应用之间进行交互测试，而 Espresso 框架则正好相反，它是在单独的应用内部进行测试。在单独的应用内部进行测试可以确保该应用可以在没有其它应用交互的情况下正常工作，并且不会给用户带来很糟糕的体验。</p>
<p>Espresso 框架相对于 UI Automator 框架主要有以下几个优点：</p>
<ul>
<li>速度快；</li>
<li>UI 线程等待：Espresso 测试框架在测试进行的过程中检测主线程是否处于空闲状态，它会等到主线程空闲的时候才会进行测试，提升测试的稳定性。</li>
</ul>
<p>当然 Espresso 测试框架相比于UI Automator 框架也有其缺点存在：</p>
<ul>
<li>依赖业务代码：Espresso 测试用例代码要和被测试的 apk 业务代码放在一起；</li>
<li>签名一致：Espresso 框架进行测试的时候测试 apk 和业务 apk 签名必须保持一致；</li>
<li>前期编译生成 apk 时间较长：UI Automator 框架可以只单独编译测试 apk，而 Espresso 则需要同时编译被测 apk 和测试 apk，编译时间相对较长，尤其在业务代码量较大时，编译时间就更不用说了；</li>
</ul>
<div class="alert warning"><p>Espresso 测试框架必须在 <strong>Android 2.2(API10)</strong> 以上运行。</p>
</div>
<h2 id="espresso-环境搭建"><a class="anchor" href="#espresso-环境搭建"></a> Espresso 环境搭建</h2>
<p>要使用 Espresso 框架进行编写测试用例并进行软件测试，必须要在 build.gradle 文件中添加相应的依赖。新版本的   Android Studio 在新建工程的时候会默认添加该依赖包，如果对已有工程进行测试，则需要添加以下依赖包到 <code>dependencies</code>闭包下：</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test:runner:1.0.1'</span></span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test.espresso:espresso-core:3.0.1'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>除了添加Espresso依赖包，还需要添加 <code>instrumentation runner</code>, 在 <code>android.defaultConfig</code>闭包中添加如下内容：</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">testInstrumentationRunner <span class="string">"android.support.test.runner.AndroidJUnitRunner"</span></span><br></pre></td></tr></table></figure>
<p>Espresso 框架除了可以做基本功能测试，还可以做 intent 测试，如需进行 intent 测试，则需要添加如下依赖：</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test.espresso:espresso-core:3.0.1'</span></span><br><span class="line">    <span class="comment">// espresso intent test dependency, only compatible with Espresso 2.1+</span></span><br><span class="line">    <span class="comment">// and the testing support library 0.3+</span></span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test.espresso:espresso-intents:3.0.1'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="espresso-基本组件及使用"><a class="anchor" href="#espresso-基本组件及使用"></a> Espresso 基本组件及使用</h2>
<p>总的来说，UI 测试或者功能测试用例执行都遵循以下流程：</p>
<p><img src="black-test-rules.gif" alt="black-test-rules"></p>
<p>无论是UI Automator 还是 Espresso 框架都是经过寻找控件、执行操作、验证结果来保证一个测试用例的完整性。</p>
<h3 id="基本组件"><a class="anchor" href="#基本组件"></a> 基本组件</h3>
<p>对Espresso 来说，对这三个阶段分别提供了不同的 API 组件：</p>
<ul>
<li><code>ViewMatchers</code> - 匹配器，该类内部提供了如<code>withId</code>、<code>withClassName</code>等匹配器方法用来在当前布局树中查找控件；</li>
<li><code>ViewActions</code> - 操作类，该类内部提供了很多操作控件的方法，例如 <code>click()</code>、<code>swipDown()</code>、<code>pressKey()</code>等方法在测试用例执行过程中对控件进行操作；</li>
<li><code>ViewAssertions</code> - 验证类，该类中的方法比较少，主要有doesNotExist<code>()</code>、<code>matches()</code>方法，用来对控件的操作结果进行验证；</li>
</ul>
<p>除了以上三个组件以外，Espresso 还提供了一个类来作为与视图的交互入口点：</p>
<ul>
<li><code>Espresso</code> - 视图交互入口点，视图交互的方法主要有两个，分别为<code>onView()</code>和<code>onData()</code>，这两个方法是搭配<code>ViewMatches</code>类的方法来进行查找控件的。除此之外还提供了一些和设备进行的交互的方法，例如：<code>pressBack()</code>、<code>closeSoftKeyboard()</code>等;</li>
</ul>
<div class="alert info"><p><code>onView()</code>方法主要用于查找诸如TextView、Button等的普通控件；而<code>onData()</code>用来查找AdapterView，主要有ListView等。</p>
</div>
<h4 id="viewinteraction"><a class="anchor" href="#viewinteraction"></a> ViewInteraction</h4>
<p>ViewInteraction 可以看作是查找、操作、验证三个步骤的连接点，该类常用的两个方法有：</p>
<ul>
<li><code>perform()</code> - 配合<code>ViewActions</code> 对控件进行操作，该方法的参数为一个或多个<code>ViewAction</code>对象，返回值为返回一个<code>ViewInteraction</code>对象；</li>
<li><code>check()</code> - 配合 <code>ViewAssertion</code>对操作结果进行验证，该方法参数为一个<code>ViewAssertion</code>对象；</li>
</ul>
<p><code>onView()</code>和<code>onData()</code> 两个方法都会返回一个<code>ViewInteraction</code>对象，所以这两个方法可以和<code>perform()</code>、<code>check()</code> 两个方法连起来使用：</p>
<p><img src="black-test-rules-method.png" alt="black-test-rules-method"></p>
<p>写法如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onView(withId(R.id.text_view)).perform(click()).check(matches(isDisplayed()));</span><br></pre></td></tr></table></figure>
<h4 id="两个常见的异常"><a class="anchor" href="#两个常见的异常"></a> 两个常见的异常</h4>
<ul>
<li>
<p><code>AmbiguousViewMatcherException</code> - 当前条件匹配到多个控件时，会抛出该异常；</p>
</li>
<li>
<p><code>NoMatchingViewException</code> - 当前条件在当前界面匹配不到控件时，会抛出异常；</p>
</li>
</ul>
<h3 id="使用方法"><a class="anchor" href="#使用方法"></a> 使用方法</h3>
<h4 id="查找控件"><a class="anchor" href="#查找控件"></a> 查找控件</h4>
<p>Espresso控件使用<code>onView()</code>和<code>onData()</code>方法进行查找控件，这两个方法的区别在于<code>onView()</code>方法主要用于查找诸如TextView、Button等的普通控件；而<code>onData()</code>用来查找AdapterView，主要有ListView、Spinner、GridView 等。这两个方法都需要搭配 Harmcrest 匹配器在当前界面中寻找<strong>唯一</strong>的控件。</p>
<p>Espresso 可以借助控件 id 进行控件查找，使用方法如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onView(withId(R.id.view_id));</span><br></pre></td></tr></table></figure>
<p>使用方法和被测试代码中的引用是一样的，但是假如界面上有两个相同 id 控件时，该控件在当前界面中不具有唯一性，则测试用例会抛出<code>AmbiguousViewMatcherException</code>异常，此时需要借助<code>allOf()</code>匹配器，使用多个条件限制该控件，使之具有唯一性，例如：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onView(allOf(withId(R.id.view_id), not(withText(<span class="string">"Not View Text"</span>)), ...));</span><br></pre></td></tr></table></figure>
<p>可以同时使用多个条件并且搭配 Harmcrest 匹配器方法进行限制该控件，但是建议使用尽可能少的条件进行寻找控件，以减少不必要的查找。</p>
<p><code>onData()</code>方法使用方法基本和<code>onView()</code>方法类似，假设一个 AdapterView 的每一行的填充数据为<code>Map&lt;String key, String value&gt;</code>,其中有一条数据如下：</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;"key": "espresso", "value", "fase"&#125;</span><br></pre></td></tr></table></figure>
<p>则可以使用如下代码来寻找上述数据所在的 item 并点击：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onData(allOf(</span><br><span class="line">    is(instanceOf(Map.class)),</span><br><span class="line">    hasEntry(equalTo(<span class="string">"espresso"</span>),is(<span class="string">"fast"</span>))))</span><br><span class="line">    .perform(click());</span><br></pre></td></tr></table></figure>
<p>也可以把上述<code>allOf()</code>所包含的条件写成自定义的 Matcher，优化代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Matcher&lt;Object&gt; <span class="title">mapValueMatcher</span><span class="params">(<span class="keyword">final</span> String expectedText)</span> </span>&#123;</span><br><span class="line">        checkNotNull(expectedText);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BoundedMatcher&lt;Object, Map&gt;(Map.class) &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">describeTo</span><span class="params">(Description description)</span> </span>&#123;</span><br><span class="line">                description.appendText(<span class="string">"with item content"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">matchesSafely</span><span class="params">(Map item)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> hasEntry(equalTo(<span class="string">"espresso"</span>), is(expectedText)).matches(item);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>上述用例代码可以简写成：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onData(mapValueMatcher(<span class="string">"fast"</span>)).perform(click());</span><br></pre></td></tr></table></figure>
<div class="alert warning"><p><code>RecyclerView</code>和普通的 AdapterView 在执行操作的时候有所不同，<code>onData()</code>方法不能查找其内部的控件，需要使用<code>onView()</code>方法。</p>
</div>
<h4 id="执行操作"><a class="anchor" href="#执行操作"></a> 执行操作</h4>
<p>按之前描述的步骤，寻找到控件之后就时对该控件进行模拟用户操作。Espresso 提供了<code>perform()</code>方法对控件进行操作，该方法需要传输至少一个<code>ViewAction</code>对象，当传多个代表动作的参数时，会按照参数的先后顺序执行一系列动作。例如：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onView(withId(R.id.view_id)).perform(scrollTo(), click(), typeText(<span class="string">"Test Text"</span>), closeSoftKeyboard(), ...);</span><br></pre></td></tr></table></figure>
<p><code>RecyclerView</code>和普通的 AdapterView 在执行操作的时候也有所不同。对<code>RecyclerView</code>执行需要使用<code>espresso-contrib</code>包下的<code>RecyclerViewActions</code>类，该类下提供了一系列方法可以对 RecyclerView 进行滚动或者执行操作。</p>
<ul>
<li><code>scrollTo()</code> - 滚动到匹配的 View</li>
<li><code>scrollToHolder()</code> - 滚动到匹配的 View Holder</li>
<li><code>scrollToPosition()</code> - 滚动到固定位置</li>
<li><code>actionOnHolderItem()</code> - 对匹配到的 View Holder 执行 ViewAction</li>
<li><code>actionOnItem()</code> - 对匹配到的 View 执行 ViewAction</li>
<li><code>actionOnItemAtPosition()</code>  - 对固定位置的 View  执行 ViewAction</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onView(withId(R.id.recyclerView))</span><br><span class="line">    .perform(RecyclerViewActions.actionOnItemAtPosition(ITEM_BELOW_THE_FOLD, click()));</span><br></pre></td></tr></table></figure>
<h4 id="进行验证"><a class="anchor" href="#进行验证"></a> 进行验证</h4>
<p>Espresso 在通过 perform() 执行一系列方法之后需要使用<code>check()</code>方法来对当前控件的状态进行验证，常用的判断方法时<code>matchers()</code>，该方法接收一个<code>ViewMatcher</code>参数，该参数可一使用<code>allOf()</code>或者<code>anyOf()</code>添加多个条件进行验证。例如：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onView(withId(R.id.view_id))</span><br><span class="line">    .perform(click())</span><br><span class="line">    .check(matches(allOf(isDisplayed(), withText(<span class="string">"Expected Text"</span>)),...));</span><br></pre></td></tr></table></figure>
<div class="alert warning"><p>当确定一个 AdapterView 控件在当前布局中，但是使用 <code>onView()</code>方法抛出<code>NoMatchingViewException</code> 时最常见的解决方法是使用<code>onData()</code>方法。</p>
</div>
<h4 id="一个简单的栗子"><a class="anchor" href="#一个简单的栗子"></a> 一个简单的栗子</h4>
<p>是时候举个栗子了！ 用例很简单，实现一个“伪”登陆界面。为什么时“伪”的呢，因为账号和密码不会验证，直接会传到第二个界面并且在界面上显示出来。源代码很简单，只有两个 Activity，一个登陆界面，可以输入邮箱、密码，并有登陆按钮，点击该按钮之后，跳转到第二个Activity，并在该界面上显示刚输入的用户和密码。</p>
<p>测试用例代码如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String EMAIL = <span class="string">"istarx@163.com"</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PASSWORD = <span class="string">"istarx.cc"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Rule</span></span><br><span class="line"><span class="keyword">public</span> ActivityTestRule&lt;EspressoDemoActivity&gt; rule = <span class="keyword">new</span> ActivityTestRule&lt;&gt;(EspressoDemoActivity.class);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">espressoTestDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    onView(withId(R.id.email)).perform(typeText(EMAIL));</span><br><span class="line">    onView(withId(R.id.password)).perform(typeText(PASSWORD), closeSoftKeyboard());</span><br><span class="line">    onView(withId(R.id.login)).perform(click());</span><br><span class="line"></span><br><span class="line">    String expectedString = String.format(<span class="string">"Email is: %s\nPassword is: %s"</span>, EMAIL, PASSWORD);</span><br><span class="line">    onView(withId(R.id.intent_content)).check(matches(allOf(isDisplayed(), withText(expectedString))));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行过程如下：</p>
<p><img src="espresso-test-running.gif" alt="espresso-test-running"></p>
<h3 id="espresso-intents"><a class="anchor" href="#espresso-intents"></a> Espresso-Intents</h3>
<p><code>Espresso-Intents</code>是 Espresso 的扩展，是对 intent 的发送进行测试。假如被测试应用和别的应用有很多和 intent 相关的交互，则可以利用 Espresso-Intent 进行测试，以保证应用内部的逻辑没有问题。Espresso-Intents 测试是假设和被测试应用有 intent 交互的应用都是正常工作的。Espresso-Intents 可以检测被测试应用是否正确的发送 intent 或者 是否正确的接收到 intent。</p>
<p>使用 Espresso-Intents 必须要在 <code>build.gradle</code>文件中添加以下依赖：</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    androidTestCompile <span class="string">'com.android.support.test.espresso:espresso-intents:3.0.1'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Espresso-Intents 提供了<code>ìntended()</code>和<code>intending()</code>两个方法来对 intent 进行测试，这两个方法的参数都是<code>Matcher&lt;Intent&gt;</code>类型的。该 Matcher 可以使用自带的，也可以通过实现接口来构建自定义的 Matcher。</p>
<p>还是对上文的例子进行测试，测试用例如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Rule</span></span><br><span class="line"><span class="keyword">public</span> IntentsTestRule&lt;EspressoDemoActivity&gt; intentsTestRule =</span><br><span class="line">    <span class="keyword">new</span> IntentsTestRule&lt;&gt;(EspressoDemoActivity.class);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">espressoIntentTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    onView(withId(R.id.email)).perform(typeText(EMAIL));</span><br><span class="line">    onView(withId(R.id.password)).perform(typeText(PASSWORD), closeSoftKeyboard());</span><br><span class="line">    onView(withId(R.id.login)).perform(click());</span><br><span class="line"></span><br><span class="line">    intended(allOf(</span><br><span class="line">        toPackage(<span class="string">"cc.istarx.espressodemo"</span>),</span><br><span class="line">        not(hasAction(<span class="string">"cc.istarx.test.action"</span>)),</span><br><span class="line">        hasExtras(allOf(</span><br><span class="line">            hasEntry(equalTo(<span class="string">"email"</span>), equalTo(EMAIL)),</span><br><span class="line">            hasEntry(equalTo(<span class="string">"password"</span>), equalTo(PASSWORD))</span><br><span class="line">        ))));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>intending</code>和 Mock.when() 有点类似，意思是当 xxx 的时候做什么，例如，当当前是向 cc.istarx.espressodemo 发送的 intent ,则返回特定的 response。其使用配合 <code>startActivityForResult()</code>测试和其它应用交互。</p>
<p>在本例子中，在第一个 Activity 中点击 <code>Intenting test</code>的按钮，会从 IntendingTestActivity 返回一个字符串，并显示在Button下方的TextView上。测试如下：</p>
<ul>
<li>
<p>首先需要建立一个response：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Intent resultData = <span class="keyword">new</span> Intent();</span><br><span class="line">String testStr = <span class="string">"Intending test string for test..."</span>;</span><br><span class="line">resultData.putExtra(<span class="string">"test"</span>, testStr);</span><br><span class="line">Instrumentation.ActivityResult result =</span><br><span class="line">    <span class="keyword">new</span> Instrumentation.ActivityResult(Activity.RESULT_OK, resultData);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>接着需要对对应的 intent 进行stub：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">intending(toPackage(<span class="string">"cc.istarx.espressodemo"</span>)).respondWith(result);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>操作并验证</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">onView(withId(R.id.intending_button)).perform(click());</span><br><span class="line">onView(withId(R.id.result_text)).check(matches(allOf(isDisplayed(),withText(testStr))));</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>本文示例地址：<a href="http://www.istarx.cc/2018/04/09/android-test-espresso">Espresso Test Demo</a></p>

            

        </div>
        
            <div class="tableContent fade-in" data-message="true"></div>
        
        
            <div class="post-copyright main-content-wrap content-with-table">
    <p class="copyright-item">
        <span>原文作者: </span>
        <a href="http://http://www.istarx.cn">小一</a>
    </p>
    <p class="copyright-item">
        <span>原文链接: </span>
        <a href="http://www.istarx.cn/2018/04/09/android-test-espresso/">http://www.istarx.cn/2018/04/09/android-test-espresso/</a>
    </p>
    <p class="copyright-item">
        <span>许可协议: </span>
        <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议，转载请注明出处，谢谢.</a>
    </p>
</div>

        
    </div>
    
        <div id="post-footer" class="post-footer main-content-wrap content-with-table">
            
                <div class="post-footer-tags">
                    <span class="text-color-light text-small">标签</span><br>
                    
<div class="tagcloud article-tag-list">
    
    <li class="article-tag-list-item">
        <a href="/tags/自动化测试/" class="js-tag color1">自动化测试</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="/tags/espresso/" class="js-tag color4">espresso</a>
    </li>
    
    <div class="clearfix"></div>
</div>


                </div>
            
            
                <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/04/16/unit-test-what-and-why/" data-tooltip="Android自动化测试之 — 简单聊聊单元测试" aria-label="上一篇: Android自动化测试之 — 简单聊聊单元测试">
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/04/07/android-test-uiautomator/" data-tooltip="Android 自动化测试之 — UI Automator" aria-label="下一篇: Android 自动化测试之 — UI Automator">
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
                    
                    <i class="fa fa-arrow-up" aria-hidden="true"></i>
                </a>
        </li>
    </ul>
</div>


            
            
        </div>
    
</article>



            <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 小一. All Rights Reserved.
    </span>
</footer>

        </div>
        
        <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/04/16/unit-test-what-and-why/" data-tooltip="Android自动化测试之 — 简单聊聊单元测试" aria-label="上一篇: Android自动化测试之 — 简单聊聊单元测试">
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/04/07/android-test-uiautomator/" data-tooltip="Android 自动化测试之 — UI Automator" aria-label="下一篇: Android 自动化测试之 — UI Automator">
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
                    
                    <i class="fa fa-arrow-up" aria-hidden="true"></i>
                </a>
        </li>
    </ul>
</div>


        </div>
        <div id="share-options-bar" class="share-options-bar" data-behavior="2">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
    </ul>
</div>

        
    </div>
    


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/avatar.png" alt="作者的图片">
        
            <h4 id="about-card-name">小一</h4>
        
            <div id="about-card-bio"><p>莫舍己道,勿扰他心.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>Android开发<br>自动化测试</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br>
                ShanXi Xi&#39;an
            </div>
        
    </div>
</div>

    

<!-- Define author's picture -->


    
        
    

<div id="cover" style="background-image:url('http://cherlas-blog.oss-cn-beijing.aliyuncs.com/cover.jpg');">
    <div class="first-page-desc-container">
        <span class="first-page-desc pulse"></span>
    </div>
    <div class="full-screen-head hidden">
        <!-- 头像效果-start -->
        <div class="ih-item circle effect right_to_left fade-in">
            <a href="/#blog" class="blog-button-full-screen">
                <img class="sidebar-profile-picture" src="/assets/images/avatar.png" alt="作者的图片">
                <div class="info">
                    <div class="info-back">
                        <h2>
                            
                            Android
                            
                        </h2>
                        <p>
                            
                            Python
                            
                        </p>
                    </div>
                </div>
            </a>
        </div>
        <!-- 头像效果-end -->
    </div>
</div>

    <!--SCRIPTS-->
<script src="/assets/js/script-u1uqfoexpfffrbin0dmisld9miqjoh9wh42nzzalbtskiwbib07yrwp0sckj.min.js"></script>
<!--SCRIPTS END-->


<script src="https://cdn.jsdelivr.net/npm/moment@2.20.1/min/moment-with-locales.min.js"></script>
<script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script>
  var algoliaClient = algoliasearch('8N47Y2YYXB', '6ed86c6c2611f5cfdbfc015301c1bdb2');
  var algoliaIndex = algoliaClient.initIndex('blog-index');
</script>


<script>
  window.onload = function() {
    if (location.hash !== '#blog' && location.hash !== '' && location.hash !== '#') {
      window.location.hash = '';
    }
  };
</script>

    <div data-behavior="2" class="search-tools-col hide">
    <div class="tools-wrap">
        <section class="tools-section tools-section-all">
            <div class="search-wrap">
                <input class="search-ipt" type="text" placeholder="find something…">
                <i class="icon-search icon"></i>
                <i class="icon-close icon "></i>
            </div>
            <div class="widget tagcloud search-tag">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color3">android</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color1">自动化测试</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color2">UIAutomator</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color4">proguard</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color4">espresso</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">ARTS</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color2">gradle</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">productflavors</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">hexo</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color1">theme</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color3">主题</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color1">sourcecode</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">blog</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color4">hamcrest</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">unit-test</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">Mock</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color3">Mockito</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">PowerMock</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color2">robolectric</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color4">sql</a>
                    </li>
                    
                    <div class="clearfix"></div>
                </ul>
            </div>
            <p class="results-count hide" data-message-zero="没有找到文章" data-message-one="找到 1 篇文章" data-message-other="找到 {n} 篇文章">
                找到 18 篇文章
            </p>
            <div class="search-result">
                
                <div class="media">
    <a class="search-title" href="/2018/02/10/android-autotest-summary/"><i class="fa fa-quote-left"></i><span id="search-post-title">Android 自动化测试总述</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-02-10</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#android</span>
        
            <span id="search-post-tags">#自动化测试</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/01/15/andoid-autotest-apis-complete/"><i class="fa fa-quote-left"></i><span id="search-post-title">UI Automator API 整理</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-01-15</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#android</span>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#UIAutomator</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/04/19/android-proguard/"><i class="fa fa-quote-left"></i><span id="search-post-title">Andoid ProGuard</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-04-19</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#proguard</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/04/09/android-test-espresso/"><i class="fa fa-quote-left"></i><span id="search-post-title">Android 自动化测试之 — Espresso</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-04-09</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#espresso</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/04/07/android-test-uiautomator/"><i class="fa fa-quote-left"></i><span id="search-post-title">Android 自动化测试之 — UI Automator</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-04-07</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#UIAutomator</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/03/22/arts-week-zero/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第0周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-03-22</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/02/04/build-mulit-edition-apks-using-productflavors/"><i class="fa fa-quote-left"></i><span id="search-post-title">利用 ProductFlavors 构建差异化APK版本</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-02-04</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#android</span>
        
            <span id="search-post-tags">#gradle</span>
        
            <span id="search-post-tags">#productflavors</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/03/08/creat-your-custom-hexo-theme-from-scratch/"><i class="fa fa-quote-left"></i><span id="search-post-title">从零开始制作自己的 Hexo 主题</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-03-08</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#hexo</span>
        
            <span id="search-post-tags">#theme</span>
        
            <span id="search-post-tags">#主题</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/02/03/download-android-source-code/"><i class="fa fa-quote-left"></i><span id="search-post-title">Android 源代码下载与编译</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-02-03</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#android</span>
        
            <span id="search-post-tags">#sourcecode</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/01/09/eatablish-your-own-blog-with-hexo-and-github-pages/"><i class="fa fa-quote-left"></i><span id="search-post-title">Hexo + Github 搭建属于自己的小窝</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-01-09</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#hexo</span>
        
            <span id="search-post-tags">#blog</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/02/11/hamcrest-matcher/"><i class="fa fa-quote-left"></i><span id="search-post-title">Hamcrest 匹配器</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-02-11</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#android</span>
        
            <span id="search-post-tags">#hamcrest</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/04/26/how-to-write-unit-tests/"><i class="fa fa-quote-left"></i><span id="search-post-title">如何写有价值的单元测试</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-04-26</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#unit-test</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/04/29/mockito-framework/"><i class="fa fa-quote-left"></i><span id="search-post-title">单元测试之— Mockito 框架</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-04-29</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#unit-test</span>
        
            <span id="search-post-tags">#Mock</span>
        
            <span id="search-post-tags">#Mockito</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/05/02/powermock-framework/"><i class="fa fa-quote-left"></i><span id="search-post-title">单元测试之— PowerMock 框架</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-05-02</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#unit-test</span>
        
            <span id="search-post-tags">#Mock</span>
        
            <span id="search-post-tags">#PowerMock</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/05/07/robolectric-framework/"><i class="fa fa-quote-left"></i><span id="search-post-title">单元测试之 —  Robolectric 框架</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-05-07</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#unit-test</span>
        
            <span id="search-post-tags">#robolectric</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
            </div>
        </section>
    </div>
</div>

</div>
</body>
</html>
