
<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="baidu-site-verification" content="fJhstNzkJ1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="小一 | 莫舍己道 勿扰他心">
    <title>利用 ProductFlavors 构建差异化APK版本 - 小一 | 莫舍己道 勿扰他心</title>
    <meta name="author" content="小一">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0" />
    <link rel="Shortcut Icon" href="http://www.istarx.cn/assets/images/favicon.ico" type="image/x-icon">
    
        <meta name="keywords" content="gradle,android,flavors">
    
    
        <link rel="icon" href="http://www.istarx.cn/assets/images/favicon.ico">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    
    
    
        
    
    
        <meta property="og:image" content="http://www.istarx.cn/assets/images/avatar.png"/>
    
    
    
        <meta property="og:image" content="http://cherlas-blog.oss-cn-beijing.aliyuncs.com/2.jpg"/>
        <meta class="swiftype" name="image" data-type="enum"
              content="http://cherlas-blog.oss-cn-beijing.aliyuncs.com/2.jpg"/>
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-nquzy2nicpec0tkfrvwuyo3aijjvo4igqdkvgzeqswz9wqwkivchz2f9ma1k.min.css">
    <!--STYLES END-->
    

    

</head>

<body>
<div id="container">
    <canvas id="anm-canvas" data-behavior="2" class="anm-canvas hidden"></canvas>
    <div id="blog">
        <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2" class="fade-in">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">小一 | 莫舍己道 勿扰他心</a>
    </div>
    <i class="btn-open-search fa fa-lg fa-search"></i>
    
        
        <a class="header-right-picture  " href=" #about ">
            
        
            <img class="header-picture" src="/assets/images/avatar.png" alt="作者的图片">
        
        </a>
    
</header>

        <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2" class="hidden fade-in">
    <div class="sidebar-top-whitespace"></div>
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <!-- 头像效果-start -->
                <div class="ih-item circle effect right_to_left">
                    <a href="/ ">
                        <img class="sidebar-profile-picture" src="/assets/images/avatar.png" alt="作者的图片">
                        <div class="info">
                            <div class="info-back">
                                <h2>
                                    
                                    Android
                                    
                                </h2>
                                <p>
                                    
                                    Python
                                    
                                </p>
                            </div>
                        </div>
                    </a>
                </div>
                <!-- 头像效果-end -->
                <h4 class="sidebar-profile-name">小一</h4>
                
                    <h5 class="sidebar-profile-bio"><p>莫舍己道,勿扰他心.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/#blog">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-home" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">首页</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-bookmark" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">分类</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-tags" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">标签</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-archive" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">归档</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                    <a class="sidebar-button-link open-search-col" rel="noopener">
                    
                            <i class="sidebar-button-icon fa fa-lg fa-search" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">搜索</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-question" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">关于</span>
                        </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/cherlas" target="_blank" rel="noopener">
                    
                            <i class="sidebar-button-icon fa fa-lg fa-github" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">GitHub</span>
                        </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="mailto:vm@li.cm" target="_blank" rel="noopener">
                    
                            <i class="sidebar-button-icon fa fa-lg fa-envelope-o" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">邮箱</span>
                        </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml">
                            
                            <i class="sidebar-button-icon fa fa-lg fa-rss" aria-hidden="true"></i>
                            <span class="sidebar-button-desc">RSS</span>
                        </a>
            </li>
            
        </ul>
        
    </div>
    <div class="sidebar-bottom-whitespace"></div>
</nav>

        
<div class="post-header-cover fade-in header-image-cover
                    text-left
                    post-header-cover--partial" style="background-image:url('http://cherlas-blog.oss-cn-beijing.aliyuncs.com/2.jpg');
      filter: blur(0px); 
      height: 50%;" data-behavior="2">
</div>
<div class="post-header-cover fade-in post-header-cover-background
                            text-left
                            post-header-cover--partial" style="
     
             height: 50%;
     " data-behavior="2">

    
    <div class="post-header main-content-wrap text-left fadeInDown">
    <div class="post-header-message content-with-table">
        
        <h1 class="post-title" itemprop="headline">
            利用 ProductFlavors 构建差异化APK版本
        </h1>
        
        
        <div class="post-meta">
    <time itemprop="datePublished" datetime="2018-02-04T22:17:08+08:00">
        <img class="calendar" src="/assets/images/calendar.png">
        
        2月 04, 2018
        
    </time>
    
    <span>发布在 </span>
    
<a class="category-link" href="/categories/程序猿进化之路/">程序猿进化之路</a>


    
    
    <img class="tag-img" src="/assets/images/tag-icon.svg">
    <div class="post-tags">
        
        <a href="/tags/android/">android</a>
        
        <a href="/tags/gradle/">gradle</a>
        
        <a href="/tags/productflavors/">productflavors</a>
        
    </div>
    
</div>

        
    </div>
</div>

    
</div>


        <div id="main" data-behavior="2"
             class="hasCover
                        hasCoverMetaIn
                        hasCoverCaption hidden fade-in">
            
<article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    
        <span class="post-header-cover-caption caption">天空没有痕迹，风雨已在心中</span>
    
    
    <div class="tableTile" data-message="目录">
    </div>
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap fadeInDown toc content-with-table">
            <script src="/assets/js/APlayer.min.js"> </script><p>在编译打包 Android apk 时，根据不同的情况需要提供不同的功能，打包不同版本的 apk，例如免费版本和收费版本等等。而 Gradle 和 Android 插件的 productFlavors 可以轻松的搞定这一切。</p>
<a id="more"></a>
<p><ul class="toc js-fixedContent">
<li><a href="#%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B">构建流程</a></li>
<li><a href="#%E5%87%A0%E4%B8%AA%E6%A6%82%E5%BF%B5">几个概念</a>
<ul>
<li><a href="#%E6%9E%84%E5%BB%BA%E7%B1%BB%E5%9E%8B">构建类型</a></li>
<li><a href="#%E4%BA%A7%E5%93%81%E9%A3%8E%E5%91%B3">产品风味</a></li>
<li><a href="#%E6%9E%84%E5%BB%BA%E5%8F%98%E4%BD%93">构建变体</a></li>
</ul>
</li>
<li><a href="#%E9%85%8D%E7%BD%AE%E6%9E%84%E5%BB%BA%E5%8F%98%E4%BD%93">配置构建变体</a>
<ul>
<li><a href="#%E9%85%8D%E7%BD%AE%E6%9E%84%E5%BB%BA%E7%B1%BB%E5%9E%8B">配置构建类型</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E4%BA%A7%E5%93%81%E9%A3%8E%E5%91%B3">配置产品风味</a></li>
<li><a href="#%E8%BF%87%E6%BB%A4%E5%8F%98%E4%BD%93">过滤变体</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E6%BA%90%E9%9B%86">配置源集</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E4%BE%9D%E8%B5%96">配置依赖</a></li>
</ul>
</li>
<li><a href="#%E6%9E%84%E5%BB%BA%E5%A4%9A%E7%89%88%E6%9C%ACapk">构建多版本APK</a></li>
</ul>
</p>
<p>Android构建系统编译源代码，整合依赖以及资源，然后将它们打包成你需要的APK。Android Studio 提供了 Gradle 工具来自动化执行和管理构建。Gradle工具允许自定义构建配置或者其它内容。</p>
<h2 id="构建流程"><a class="anchor" href="#构建流程"></a> 构建流程</h2>
<p>构建流程即把 Android 项目资源打包成apk的过程。起主要流程如下：</p>
<p><img src="build-process.png" alt="build-process"></p>
<ul>
<li>编译器把 Source Code以及依赖 Dependencies 转换成可以在 Dalvik 虚拟机上执行的DEX ( Dalvik Executable ) 文件，包含运行在 Android 设备上的字节码，将 Resource Files，AIDL Files 转换成已编译资源；</li>
<li>APK 打包器将DEX文件和已编译资源合并成单个APK文件，并根据配置及签名文件进行签名；</li>
<li>利用 zipalign工具进行优化，减少在设备上运行的内存占用；</li>
</ul>
<h2 id="几个概念"><a class="anchor" href="#几个概念"></a> 几个概念</h2>
<h3 id="构建类型"><a class="anchor" href="#构建类型"></a> 构建类型</h3>
<p>构建类型定义 Gradle 在构建和打包您的应用时使用的某些属性，通常针对开发生命周期的不同阶段进行配置。例如设置不同的 applicationId、代码混淆文件、不同的签名文件等等。Android Studio 默认有<code>debug</code>和<code>release</code>两个构建类型，如果非 Android Studio 则需要至少一个构建类型才能构建应用。</p>
<h3 id="产品风味"><a class="anchor" href="#产品风味"></a> 产品风味</h3>
<p>在构建流程中的<code>compile</code>之前，Android Gradle 插件会根据用户或者运营商等不同区分发布不同的用户版本，例如免费版本和收费版本。产品风味的主要目的是对所有版本共有的代码、资源等部分重复利用，对不同的代码或资源加以区分和自定义。而且产品风味需要手动创建。</p>
<h3 id="构建变体"><a class="anchor" href="#构建变体"></a> 构建变体</h3>
<p>构建变体不需要手动创建，只需配置产品风味和构建类型即可，是属于构建类型和产品风味交叉的产物，是 Gradle 在构建应用时使用的配置。</p>
<h2 id="配置构建变体"><a class="anchor" href="#配置构建变体"></a> 配置构建变体</h2>
<p>构建类型和产品风味一般在模块级的 <code>build.gradle</code>文件的 <code>android{}</code>代码块中配置。构建类型在<code>buildTypes{}</code>代码块中配置，而产品分风味的配置在<code>productFlavors{}</code>代码块中。</p>
<h3 id="配置构建类型"><a class="anchor" href="#配置构建类型"></a> 配置构建类型</h3>
<p>当新建一个工程时，Android 插件会默认添加<code>debug</code>和<code>release</code>两种构建类型，在<code>buildTypes{}</code>代码块中只显示了<code>release</code>，<code>debug</code>构建类型虽然被隐藏，但其实是存在的。在构建类型中可以改变代码混淆文件，ApplicationIdSuffix等其它的一些属性。以下是默认的两个构建类型，并在此基础上添加了新的构建类型<code>Demo</code>:</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    defaultConfig &#123; ... &#125;</span><br><span class="line">    buildTypes &#123;</span><br><span class="line">        demo &#123;</span><br><span class="line">            debuggable <span class="keyword">true</span></span><br><span class="line">            shrinkResources <span class="keyword">true</span> <span class="comment">// 是否清理无用资源,依赖于minifyEnabled</span></span><br><span class="line">            applicationIdSuffix <span class="string">'.buildTypeDemo'</span></span><br><span class="line">            initWith debug <span class="comment">// copy debug 构建类型得 debuggable和signConfig 属性</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        debug &#123;</span><br><span class="line">            debuggable <span class="keyword">true</span></span><br><span class="line">            minifyEnabled <span class="keyword">false</span></span><br><span class="line">            applicationIdSuffix <span class="string">'.debug'</span></span><br><span class="line">            signingConfig signingConfigs.release</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        release &#123;</span><br><span class="line">            debuggable <span class="keyword">false</span></span><br><span class="line">            minifyEnabled <span class="keyword">true</span> <span class="comment">// 启用Proguard</span></span><br><span class="line">            zipAlignEnabled <span class="keyword">true</span> <span class="comment">// 是否启用zipAlign压缩</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span></span><br><span class="line">            applicationIdSuffix <span class="string">'.release'</span></span><br><span class="line">            signingConfig signingConfigs.release</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码一共配置了三个构建类型，分别为默认的<code>debug</code>和<code>release</code>，以及自定义的<code>demo</code>构建类型，并设置了不同的属性，包括 <code>applicationIdSuffix</code>，<code>shrinkResources</code>，<code>minifyEnabled</code>等属性，当然还可以配置其它的属性，具体见<a href="http://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.BuildType.html#com.android.build.gradle.internal.dsl.BuildType:signingConfig">构建类型配置</a>。</p>
<h3 id="配置产品风味"><a class="anchor" href="#配置产品风味"></a> 配置产品风味</h3>
<p>在新建 Android 工程的时候，Android Gradle插件会新建两个构建类型，但是不会默认添加产品风味。产品风味需要手动去添加配置。配置位置为 Module 目录下的 <code>build.gradle</code>文件中的<code>android{}</code>代码块中的<code>productFlavors{}</code>代码块。<code>defaultConfig</code>实际上也是属于<code>productFlavor</code>类，因此可以在<code>productFlavors{}</code>可以配置和<code>defaultConfig</code>相同的属性。因此可以在<code>defaultConfig</code>中配置所有产品风味共同的属性，在各自的产品风味中添加差异的属性或者更改默认属性。</p>
<p>在添加产品风味时可以从不同的维度上区分每个产品风味，可以定义为：</p>
<div class="alert info"><p>Android Gradle 插件在3.0版本之后需要为每个产品风味添加一个维度<code>dimension</code>，否则在同步的时候会报：Error:All flavors must now belong to a named flavor dimension 错误。</p>
</div>
<p>定义产品风味两个维度，分别为<code>address</code>和<code>mode</code>，<code>address</code>维度下的产品风味有<code>shanxi</code>，<code>beijing</code>，<code>shandong</code>，<code>mode</code>维度下有<code>free</code>和<code>charge</code>，如下图：</p>
<p><img src="product-flavors.gif" alt="product-flavors"></p>
<p>代码如下：</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    compileSdkVersion <span class="number">26</span></span><br><span class="line">    defaultConfig &#123; ... &#125;</span><br><span class="line">    buildTypes &#123;</span><br><span class="line">        demo &#123; ... &#125;</span><br><span class="line">        bebug &#123; ... &#125;</span><br><span class="line">        release &#123; ... &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> modeDimension = <span class="string">'mode'</span></span><br><span class="line">    <span class="keyword">def</span> addressDimension = <span class="string">'address'</span></span><br><span class="line">    <span class="keyword">def</span> freeFlavorName = <span class="string">'free'</span></span><br><span class="line">    <span class="keyword">def</span> chargeFlavorName = <span class="string">'charge'</span></span><br><span class="line">    <span class="keyword">def</span> shanXiFlavorName = <span class="string">'shanXi'</span></span><br><span class="line">    <span class="keyword">def</span> beiJingFlavorName = <span class="string">'beiJing'</span></span><br><span class="line">    <span class="keyword">def</span> shanDongFlavorName = <span class="string">'shanDong'</span></span><br><span class="line">    flavorDimensions <span class="string">"$&#123;addressDimension&#125;"</span>, <span class="string">"$&#123;modeDimension&#125;"</span></span><br><span class="line">    productFlavors &#123;</span><br><span class="line">        free &#123;</span><br><span class="line">            dimension <span class="string">"$&#123;modeDimension&#125;"</span></span><br><span class="line">            versionNameSuffix <span class="string">"-$&#123;freeFlavorName&#125;"</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        charge &#123;</span><br><span class="line">            dimension <span class="string">"$&#123;modeDimension&#125;"</span></span><br><span class="line">            versionNameSuffix <span class="string">"-$&#123;chargeFlavorName&#125;"</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        shanXi &#123;</span><br><span class="line">            dimension <span class="string">"$&#123;addressDimension&#125;"</span></span><br><span class="line">            minSdkVersion <span class="number">24</span></span><br><span class="line">            versionCode <span class="number">24000</span> + android.defaultConfig.versionCode</span><br><span class="line">            versionNameSuffix <span class="string">"-$&#123;shanXiFlavorName&#125;"</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        beiJing &#123;</span><br><span class="line">            dimension <span class="string">"$&#123;addressDimension&#125;"</span></span><br><span class="line">            minSdkVersion <span class="number">25</span></span><br><span class="line">            versionCode <span class="number">25000</span> + android.defaultConfig.versionCode</span><br><span class="line">            versionNameSuffix <span class="string">"-$&#123;beiJingFlavorName&#125;"</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        shanDong &#123;</span><br><span class="line">            dimension <span class="string">"$&#123;addressDimension&#125;"</span></span><br><span class="line">            minSdkVersion <span class="number">26</span></span><br><span class="line">            versionCode <span class="number">26000</span> + android.defaultConfig.versionCode</span><br><span class="line">            versionNameSuffix <span class="string">"-$&#123;shanDongFlavorName&#125;"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>则构建类型和产品风味交叉后得到的构建变体以及对应的APK为：</p>
<ul>
<li>构建变体: <code>[shanXi, beiJing, shanDong][free, charge][Debug, Release, Demo]</code>，共有18种;</li>
<li>对应APK：<code>app-[shanXi, beiJing, shanDong]-[free, charge]-[Debug, Release, Demo].apk</code></li>
</ul>
<h3 id="过滤变体"><a class="anchor" href="#过滤变体"></a> 过滤变体</h3>
<p>假设要保留上述18种构建变体中的<code>beiJingChargeDemo</code>和<code>shanDongFreeDebug</code>以及<code>shanXichargedemo</code>三种变体，过滤代码如下：</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">  defaultConfig &#123; ... &#125;</span><br><span class="line">  buildTypes &#123; ... &#125;</span><br><span class="line">  productFlavors &#123; ... &#125;</span><br><span class="line">  <span class="keyword">def</span> flavorNames = [<span class="string">"beiJingchargedemo"</span>, <span class="string">"shanDongfreedebug"</span>, <span class="string">"shanXichargedemo"</span>]</span><br><span class="line">    variantFilter &#123; variant -&gt;</span><br><span class="line">        <span class="keyword">def</span> names = variant.flavors*.name</span><br><span class="line">        <span class="keyword">def</span> name = <span class="string">''</span></span><br><span class="line">        <span class="keyword">for</span>(String str: names) &#123;</span><br><span class="line">            name += str</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flavorNames.contains(name + variant.buildType.name)) &#123;</span><br><span class="line">            <span class="comment">// Gradle ignores any variants that satisfy the conditions above.</span></span><br><span class="line">            setIgnore(<span class="keyword">true</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<p><img src="build-variant-filter-result.gif" alt="build-variant-filter-result"></p>
<h3 id="配置源集"><a class="anchor" href="#配置源集"></a> 配置源集</h3>
<p>当配置了构建类型和产品风味之后 Android Studio不会直接新建源集目录，需要手动新建目录。</p>
<p>查看当前源集：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./gradlew sourceSets <span class="comment"># 查看构建变体源集</span></span><br></pre></td></tr></table></figure>
<p>以<code>shanXichargedemo</code>构建变体为例，默认源集为：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">shanXichargedemo</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--------------------</span></span><br><span class="line"><span class="string">Compile</span> <span class="attr">configuration:</span> <span class="string">shanXiChargeDemoCompile</span></span><br><span class="line"><span class="string">build.gradle</span> <span class="attr">name:</span> <span class="string">android.sourceSets.shanXiChargeDemo</span></span><br><span class="line"><span class="string">Java</span> <span class="attr">sources:</span> <span class="string">[app/src/shanXiChargeDemo/java]</span></span><br><span class="line"><span class="string">Manifest</span> <span class="attr">file:</span> <span class="string">app/src/shanXiChargeDemo/AndroidManifest.xml</span></span><br><span class="line"><span class="string">Android</span> <span class="attr">resources:</span> <span class="string">[app/src/shanXiChargeDemo/res]</span></span><br><span class="line"><span class="attr">Assets:</span> <span class="string">[app/src/shanXiChargeDemo/assets]</span></span><br><span class="line"><span class="string">AIDL</span> <span class="attr">sources:</span> <span class="string">[app/src/shanXiChargeDemo/aidl]</span></span><br><span class="line"><span class="string">RenderScript</span> <span class="attr">sources:</span> <span class="string">[app/src/shanXiChargeDemo/rs]</span></span><br><span class="line"><span class="string">JNI</span> <span class="attr">sources:</span> <span class="string">[app/src/shanXiChargeDemo/jni]</span></span><br><span class="line"><span class="string">JNI</span> <span class="attr">libraries:</span> <span class="string">[app/src/shanXiChargeDemo/jniLibs]</span></span><br><span class="line"><span class="string">Java-style</span> <span class="attr">resources:</span> <span class="string">[app/src/shanXiChargeDemo/resources]</span></span><br></pre></td></tr></table></figure>
<p>可以看出构建变体、构建类型、产品风味对应的源集默认为<code>app/src/&lt;构建变体名/构建类型名/产品风味名&gt;</code>目录下。因此如果使用默认的源集，则只需要创建对应的文件夹即可，如果需要指定源集，则可在<code>android{}</code>代码块中新建<code>sourceSets{}</code>代码块，在其中指定特定的目录。例如把<code>shanDongChargeRelease</code>构建变体的java源文件目录指定为<code>app/src/shanDongChargeReleaseSpecialDir</code></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">  defaultConfig &#123; ... &#125;</span><br><span class="line">  buildTypes &#123; ... &#125;</span><br><span class="line">  productFlavors &#123; ... &#125;</span><br><span class="line">  sourceSets &#123;</span><br><span class="line">        shanXiChargeDemo &#123;</span><br><span class="line">            java.srcDirs = [<span class="string">'src/shanXiChargeDemoSpecialDir/java'</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>则再次查看源集可以看到输出如下：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">shanDongChargeRelease</span></span><br><span class="line"><span class="bullet">-</span><span class="bullet">--------------------</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string">Java</span> <span class="attr">sources:</span> <span class="string">[app/src/shanXiChargeDemoSpecialDir/java]</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure>
<h3 id="配置依赖"><a class="anchor" href="#配置依赖"></a> 配置依赖</h3>
<p>在配置依赖的<code>dependencies</code>代码块中除了默认生成的一些依赖项以外还可以自己添加特定的依赖：</p>
<ul>
<li>
<p>依赖一个二进制jar包：<code>implementation files('&lt;file/to/path&gt;')</code>;</p>
</li>
<li>
<p>依赖一个工程：<code>compile project(&quot;:mylibrary&quot;)</code>;</p>
</li>
<li>
<p>对某个特定的构建变体、源集名称配置依赖：</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">chargeDemoCompile project(<span class="string">path:</span> <span class="string">':library'</span>, <span class="string">configuration:</span> <span class="string">'debug'</span>)</span><br><span class="line">chargeReleaseCompile project(<span class="string">path:</span> <span class="string">':library'</span>, <span class="string">configuration:</span> <span class="string">'release'</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="构建多版本apk"><a class="anchor" href="#构建多版本apk"></a> 构建多版本APK</h2>
<p>进行多版本区分有以下三种方法：</p>
<ul>
<li>定义宏，通过宏去控制代码逻辑；</li>
<li>通过对BuildConfig中得变量<code>FLAVOR</code>的值进行代码逻辑判断；</li>
<li>通过分离接口的方法；</li>
</ul>
<p>以<code>beiJingChargeDemo</code>和<code>shanDongFreeDebug</code>以及<code>shanXiChargeDemo</code>构建变体为例，在<code>app/src</code>目录下分别新建和构建变体相同名称的文件夹，每个文件夹下新建<code>java</code>和<code>res</code>文件夹，并根据所需建立宏文件、接口文件以及资源文件，目录结构如下所示：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.                                   	</span><br><span class="line">|-- app                                 </span><br><span class="line">|   |-- build.gradle                                 </span><br><span class="line">|   `-- src                                                                                 </span><br><span class="line">|       |-- beiJingChargeDemo                           # beiJingChargeDemo 构建变体对应的源文件            </span><br><span class="line">|       |   |-- java                                    #    </span><br><span class="line">|       |   |   `-- cc.starx.productflavordemo          #                              </span><br><span class="line">|       |   |       |-- BjcdFeature.java                # 定义宏                          </span><br><span class="line">|       |   |        `- ProductFlavorDemo.java          # 定义接口                               </span><br><span class="line">|       |   `-- res                                     #   </span><br><span class="line">|       |       `-- values                              #          </span><br><span class="line">|       |           `-- strings.xml                     #                   </span><br><span class="line">|       |-- main                                        # </span><br><span class="line">|       |   |-- AndroidManifest.xml                     #                   </span><br><span class="line">|       |   |-- java                                    #    </span><br><span class="line">|       |   |   `-- cc.starx.productflavordemo          #                              </span><br><span class="line">|       |   |       `-- ProductFlavorDemoActivity.java  # Activity                                     </span><br><span class="line">|       |   `-- res                                     #   </span><br><span class="line">|       |       `-- values                              #          </span><br><span class="line">|       |           `-- strings.xml                     #                   </span><br><span class="line">|       |-- shanXiChargeDemoSpecialDir                  # shanXiChargeDemo 构建变体 sourceSets 指定的源文件                          </span><br><span class="line">|       |   |-- java                                    #    </span><br><span class="line">|       |   |   `-- cc.starx.productflavordemo          #</span><br><span class="line">|       |   |       |-- BjcdFeature.java                # 定义宏                     </span><br><span class="line">|       |   |        `- ProductFlavorDemo.java          # 定义接口                              </span><br><span class="line">|       |   `-- res                                     #   </span><br><span class="line">|       |       `-- values                              #          </span><br><span class="line">|       |           `-- strings.xml                     #                   </span><br><span class="line">|       `-- shanDongFreeDebug                           # shanDongFreeDebug 构建变体对应的源文件</span><br><span class="line">|           |-- java                                    #    </span><br><span class="line">|           |   `-- cc.starx.productflavordemo          #                              </span><br><span class="line">|           |       |-- BjcdFeature.java                #                        </span><br><span class="line">|           |        `- ProductFlavorDemo.java          # 定义接口                              </span><br><span class="line">|           `-- res                                     # 定义宏  </span><br><span class="line">|               `-- values                              #          </span><br><span class="line">|                   `-- strings.xml                     #                                                          </span><br><span class="line">`-- build.gradle</span><br></pre></td></tr></table></figure>
<p>主界面的布局只有简单的6个 TextView ，分别显示每个构建变体的名字和描述，每个构建变体只显示其中的一组，隐藏其它变体相关的 TextView。布局如下：</p>
<p><img src="layout.gif" alt="layout"></p>
<p>对于资源文件，每个变体下的资源文件会覆盖<code>main</code>下的资源文件，比如<code>strings.xml</code>。</p>
<p>对于<code>beiJingChargeDemo</code>来说，使用宏进行区分，在该变体下的<code>BjcdFeature.java</code>文件，定义是否显示 Layout 的变量：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">boolean</span> LAYOUT_DISPLAY = <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure>
<p>而另外两个变体的变量则设置为<code>false</code>，在源代码种通过如下方式区分：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// beiJingChargeDemo</span></span><br><span class="line"><span class="keyword">if</span> (BjcdFeature.LAYOUT_DISPLAY) &#123;</span><br><span class="line">	shanDongLayout.setVisibility(View.GONE);</span><br><span class="line">    shanXiLayout.setVisibility(View.GONE);</span><br><span class="line">    desc = beiJingLayout.findViewById(R.id.beiJingFlavorDesc);</span><br><span class="line">    desc.setText(R.string.beiJingFlavorDesc);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<p><img src="beijing.gif" alt="beijing"></p>
<p>对于<code>shanDongFreeDebug</code>来说通过 <code>BuildConfig.FLAVOR</code>值来进行判断，代码逻辑如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// shanDongFreeDebug</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">"shanDongFree"</span>.equals(BuildConfig.FLAVOR) &amp;&amp; <span class="string">"debug"</span>.equals(BuildConfig.BUILD_TYPE)) &#123;</span><br><span class="line">	beiJingLayout.setVisibility(View.GONE);</span><br><span class="line">	shanXiLayout.setVisibility(View.GONE);</span><br><span class="line">    desc = shanDongLayout.findViewById(R.id.shanDongFlavorDesc);</span><br><span class="line">    desc.setText(R.string.shanDongFlavorDesc);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<p><img src="shandong.gif" alt="shandong"></p>
<p>对于<code>shanDongChargeRelease</code>变体来说，通过分离接口的方法，在该变体源集目录下新建类<code>ProductFlavorDemo</code>，内部只有一个方法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isShowLayout</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">true</span>; &#125;</span><br></pre></td></tr></table></figure>
<p>对于另外的两个变体的方法直接返回<code>false</code>。代码逻辑如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// shanXiChargeDemo</span></span><br><span class="line"><span class="keyword">if</span> (ProductFlavorDemo.isShowLayout()) &#123;</span><br><span class="line">    beiJingLayout.setVisibility(View.GONE);</span><br><span class="line">    shanDongLayout.setVisibility(View.GONE);</span><br><span class="line">    desc = shanXiLayout.findViewById(R.id.shanXiFlavorDesc);</span><br><span class="line">    desc.setText(R.string.shanXiFlavorDesc);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<p><img src="shanxi.gif" alt="shanxi"></p>
<p>本文代码示例：<a href="https://github.com/cherlas/ProductFlavorDemo">ProductFlavorDemo</a></p>

            

        </div>
        
            <div class="tableContent fade-in" data-message="true"></div>
        
        
            <div class="post-copyright main-content-wrap content-with-table">
    <p class="copyright-item">
        <span>原文作者: </span>
        <a href="http://http://www.istarx.cn">小一</a>
    </p>
    <p class="copyright-item">
        <span>原文链接: </span>
        <a href="http://www.istarx.cn/2018/02/04/build-mulit-edition-apks-using-productflavors/">http://www.istarx.cn/2018/02/04/build-mulit-edition-apks-using-productflavors/</a>
    </p>
    <p class="copyright-item">
        <span>许可协议: </span>
        <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议，转载请注明出处，谢谢.</a>
    </p>
</div>

        
    </div>
    
        <div id="post-footer" class="post-footer main-content-wrap content-with-table">
            
                <div class="post-footer-tags">
                    <span class="text-color-light text-small">标签</span><br>
                    
<div class="tagcloud article-tag-list">
    
    <li class="article-tag-list-item">
        <a href="/tags/android/" class="js-tag color3">android</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="/tags/gradle/" class="js-tag color2">gradle</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="/tags/productflavors/" class="js-tag color5">productflavors</a>
    </li>
    
    <div class="clearfix"></div>
</div>


                </div>
            
            
                <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/10/android-autotest-summary/" data-tooltip="Android 自动化测试总述" aria-label="上一篇: Android 自动化测试总述">
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/03/download-android-source-code/" data-tooltip="Android 源代码下载与编译" aria-label="下一篇: Android 源代码下载与编译">
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
                    
                    <i class="fa fa-arrow-up" aria-hidden="true"></i>
                </a>
        </li>
    </ul>
</div>


            
            
        </div>
    
</article>



            <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 小一. All Rights Reserved.
    </span>
</footer>

        </div>
        
        <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/10/android-autotest-summary/" data-tooltip="Android 自动化测试总述" aria-label="上一篇: Android 自动化测试总述">
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/03/download-android-source-code/" data-tooltip="Android 源代码下载与编译" aria-label="下一篇: Android 源代码下载与编译">
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
                    
                    <i class="fa fa-arrow-up" aria-hidden="true"></i>
                </a>
        </li>
    </ul>
</div>


        </div>
        <div id="share-options-bar" class="share-options-bar" data-behavior="2">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
    </ul>
</div>

        
    </div>
    


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/avatar.png" alt="作者的图片">
        
            <h4 id="about-card-name">小一</h4>
        
            <div id="about-card-bio"><p>莫舍己道,勿扰他心.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>Android开发<br>自动化测试</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br>
                ShanXi Xi&#39;an
            </div>
        
    </div>
</div>

    

<!-- Define author's picture -->


    
        
    

<div id="cover" style="background-image:url('http://cherlas-blog.oss-cn-beijing.aliyuncs.com/cover.jpg');">
    <div class="first-page-desc-container">
        <span class="first-page-desc pulse"></span>
    </div>
    <div class="full-screen-head hidden">
        <!-- 头像效果-start -->
        <div class="ih-item circle effect right_to_left fade-in">
            <a href="/#blog" class="blog-button-full-screen">
                <img class="sidebar-profile-picture" src="/assets/images/avatar.png" alt="作者的图片">
                <div class="info">
                    <div class="info-back">
                        <h2>
                            
                            Android
                            
                        </h2>
                        <p>
                            
                            Python
                            
                        </p>
                    </div>
                </div>
            </a>
        </div>
        <!-- 头像效果-end -->
    </div>
</div>

    <!--SCRIPTS-->
<script src="/assets/js/script-u1uqfoexpfffrbin0dmisld9miqjoh9wh42nzzalbtskiwbib07yrwp0sckj.min.js"></script>
<!--SCRIPTS END-->


<script src="https://cdn.jsdelivr.net/npm/moment@2.20.1/min/moment-with-locales.min.js"></script>
<script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script>
  var algoliaClient = algoliasearch('8N47Y2YYXB', '6ed86c6c2611f5cfdbfc015301c1bdb2');
  var algoliaIndex = algoliaClient.initIndex('blog-index');
</script>


<script>
  window.onload = function() {
    if (location.hash !== '#blog' && location.hash !== '' && location.hash !== '#') {
      window.location.hash = '';
    }
  };
</script>

    <div data-behavior="2" class="search-tools-col hide">
    <div class="tools-wrap">
        <section class="tools-section tools-section-all">
            <div class="search-wrap">
                <input class="search-ipt" type="text" placeholder="find something…">
                <i class="icon-search icon"></i>
                <i class="icon-close icon "></i>
            </div>
            <div class="widget tagcloud search-tag">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color2">UIAutomator</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color1">自动化测试</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color3">android</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color4">proguard</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color4">espresso</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">ARTS</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color2">gradle</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">productflavors</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">hexo</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color1">theme</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color3">主题</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color1">sourcecode</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">blog</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color4">hamcrest</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">unit-test</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">Mock</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color3">Mockito</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color5">PowerMock</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color2">robolectric</a>
                    </li>
                    
                    <li class="article-tag-list-item">
                        <a class="js-tag color4">sql</a>
                    </li>
                    
                    <div class="clearfix"></div>
                </ul>
            </div>
            <p class="results-count hide" data-message-zero="没有找到文章" data-message-one="找到 1 篇文章" data-message-other="找到 {n} 篇文章">
                找到 25 篇文章
            </p>
            <div class="search-result">
                
                <div class="media">
    <a class="search-title" href="/2018/01/15/andoid-autotest-apis-complete/"><i class="fa fa-quote-left"></i><span id="search-post-title">UI Automator API 整理</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-01-15</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#UIAutomator</span>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#android</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/02/10/android-autotest-summary/"><i class="fa fa-quote-left"></i><span id="search-post-title">Android 自动化测试总述</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-02-10</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#android</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/04/19/android-proguard/"><i class="fa fa-quote-left"></i><span id="search-post-title">Andoid ProGuard</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-04-19</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#proguard</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/04/09/android-test-espresso/"><i class="fa fa-quote-left"></i><span id="search-post-title">Android 自动化测试之 — Espresso</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-04-09</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#自动化测试</span>
        
            <span id="search-post-tags">#espresso</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/04/07/android-test-uiautomator/"><i class="fa fa-quote-left"></i><span id="search-post-title">Android 自动化测试之 — UI Automator</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-04-07</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#UIAutomator</span>
        
            <span id="search-post-tags">#自动化测试</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/05/03/arts-week-five/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第5周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-05-03</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/04/27/arts-week-four/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第4周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-04-27</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/03/31/arts-week-one/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第1周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-03-31</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/05/19/arts-week-seven/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第7周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-05-19</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/05/12/arts-week-six/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第6周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-05-12</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/04/21/arts-week-three/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第3周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-04-21</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/04/14/arts-week-two/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第2周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-04-14</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2019/03/22/arts-week-zero/"><i class="fa fa-quote-left"></i><span id="search-post-title">ARTS打卡—第0周</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2019-03-22</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#ARTS</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/02/04/build-mulit-edition-apks-using-productflavors/"><i class="fa fa-quote-left"></i><span id="search-post-title">利用 ProductFlavors 构建差异化APK版本</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-02-04</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#android</span>
        
            <span id="search-post-tags">#gradle</span>
        
            <span id="search-post-tags">#productflavors</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
                <div class="media">
    <a class="search-title" href="/2018/03/08/creat-your-custom-hexo-theme-from-scratch/"><i class="fa fa-quote-left"></i><span id="search-post-title">从零开始制作自己的 Hexo 主题</span></a>
    <p class="search-time">
        <i class="fa fa-calendar icon"></i>
        <span id="search-post-tags">2018-03-08</span>
    </p>
    
    <p class="search-result-meta">
    <i class="fa fa-tags icon"></i>
        
            <span id="search-post-tags">#hexo</span>
        
            <span id="search-post-tags">#theme</span>
        
            <span id="search-post-tags">#主题</span>
        
    </p>
    
    <div class="clearfix"></div>
</div>

                
            </div>
        </section>
    </div>
</div>

</div>
</body>
</html>
